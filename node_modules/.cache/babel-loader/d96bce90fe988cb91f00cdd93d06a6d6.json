{"ast":null,"code":"var _jsxFileName = \"/Users/yiyaoguo/Desktop/final-project-frontend/src/Log.js\";\nimport React from \"react\";\nimport { toast } from \"react-toastify\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nexport default class EditPostForm extends React.Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      title: \"\",\n      year: \"\",\n      body: \"\",\n      log: {}\n    };\n  }\n\n  handleYearChange(event) {\n    this.setState({\n      year: event.target.value\n    });\n  }\n\n  handleTitleChange(event) {\n    this.setState({\n      title: event.target.value\n    });\n  }\n\n  handleBodyChange(event) {\n    this.setState({\n      body: event.target.value\n    });\n  }\n\n  handleSubmit(event) {\n    event.preventDefault();\n    const id = this.props.match.params.logId; // const id = this.state.id;\n\n    fetch(`http://localhost:4000/api/logs/${id}`, {\n      method: \"PUT\",\n      // edit\n      body: JSON.stringify({\n        title: this.state.title,\n        year: this.state.year,\n        body: this.state.body\n      }),\n      headers: {\n        \"Content-type\": \"application/json\"\n      }\n    }).then(response => {\n      return response.json();\n    }).then(json => {\n      console.log(json);\n      toast.success(`Post: \"${json.title}\" was successfully updated`);\n      this.props.history.push(\"/\");\n    });\n  }\n\n  componentDidMount() {\n    const id = this.props.match.params.logId;\n    fetch(`http://localhost:4000/api/logs/${id}`).then(response => {\n      console.log(response);\n      return response.json();\n    }).then(json => {\n      console.log(json);\n      this.setState(json);\n    });\n  }\n\n  render() {\n    return /*#__PURE__*/_jsxDEV(\"form\", {\n      onSubmit: event => {\n        this.handleSubmit(event);\n      },\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"my-3\",\n        children: [/*#__PURE__*/_jsxDEV(\"label\", {\n          htmlFor: \"title\",\n          className: \"form-label\",\n          children: \"Title\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 73,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n          id: \"title\",\n          className: \"form-control\",\n          value: this.state.title,\n          onChange: event => {\n            this.handleTitleChange(event);\n          }\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 76,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 72,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"my-3\",\n        children: [/*#__PURE__*/_jsxDEV(\"label\", {\n          htmlFor: \"body\",\n          className: \"form-label\",\n          children: \"Body\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 86,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"textarea\", {\n          id: \"body\",\n          className: \"form-control\",\n          value: this.state.body,\n          onChange: event => {\n            // this = component instance\n            this.handleBodyChange(event);\n          }\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 89,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 85,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n        type: \"submit\",\n        className: \"btn btn-primary\",\n        children: \"Edit Post\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 99,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 67,\n      columnNumber: 7\n    }, this);\n  }\n\n}","map":{"version":3,"sources":["/Users/yiyaoguo/Desktop/final-project-frontend/src/Log.js"],"names":["React","toast","EditPostForm","Component","constructor","props","state","title","year","body","log","handleYearChange","event","setState","target","value","handleTitleChange","handleBodyChange","handleSubmit","preventDefault","id","match","params","logId","fetch","method","JSON","stringify","headers","then","response","json","console","success","history","push","componentDidMount","render"],"mappings":"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","sourcesContent":["import React from \"react\";\nimport { toast } from \"react-toastify\";\nexport default class EditPostForm extends React.Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      title: \"\",\n      year: \"\",\n      body: \"\",\n      log: {},\n    };\n  }\n  handleYearChange(event) {\n    this.setState({\n      year: event.target.value,\n    });\n  }\n  handleTitleChange(event) {\n    this.setState({\n      title: event.target.value,\n    });\n  }\n  handleBodyChange(event) {\n    this.setState({\n      body: event.target.value,\n    });\n  }\n  handleSubmit(event) {\n    event.preventDefault();\n    const id = this.props.match.params.logId;\n    // const id = this.state.id;\n    fetch(`http://localhost:4000/api/logs/${id}`, {\n      method: \"PUT\", // edit\n      body: JSON.stringify({\n        title: this.state.title,\n        year: this.state.year,\n        body: this.state.body,\n      }),\n      headers: {\n        \"Content-type\": \"application/json\",\n      },\n    })\n      .then((response) => {\n        return response.json();\n      })\n      .then((json) => {\n        console.log(json);\n        toast.success(`Post: \"${json.title}\" was successfully updated`);\n        this.props.history.push(\"/\");\n      });\n  }\n  componentDidMount() {\n    const id = this.props.match.params.logId;\n    fetch(`http://localhost:4000/api/logs/${id}`)\n      .then((response) => {\n        console.log(response);\n        return response.json();\n      })\n      .then((json) => {\n        console.log(json);\n        this.setState(json);\n      });\n  }\n\n  render() {\n    return (\n      <form\n        onSubmit={(event) => {\n          this.handleSubmit(event);\n        }}\n      >\n        <div className=\"my-3\">\n          <label htmlFor=\"title\" className=\"form-label\">\n            Title\n          </label>\n          <input\n            id=\"title\"\n            className=\"form-control\"\n            value={this.state.title}\n            onChange={(event) => {\n              this.handleTitleChange(event);\n            }}\n          />\n        </div>\n        <div className=\"my-3\">\n          <label htmlFor=\"body\" className=\"form-label\">\n            Body\n          </label>\n          <textarea\n            id=\"body\"\n            className=\"form-control\"\n            value={this.state.body}\n            onChange={(event) => {\n              // this = component instance\n              this.handleBodyChange(event);\n            }}\n          ></textarea>\n        </div>\n        <button type=\"submit\" className=\"btn btn-primary\">\n          Edit Post\n        </button>\n      </form>\n    );\n  }\n}\n"]},"metadata":{},"sourceType":"module"}