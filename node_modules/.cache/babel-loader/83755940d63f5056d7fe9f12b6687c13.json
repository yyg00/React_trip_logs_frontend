{"ast":null,"code":"import _toConsumableArray from\"/Users/yiyaoguo/Desktop/final-project-frontend/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/toConsumableArray\";import _classCallCheck from\"/Users/yiyaoguo/Desktop/final-project-frontend/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/classCallCheck\";import _createClass from\"/Users/yiyaoguo/Desktop/final-project-frontend/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createClass\";import _inherits from\"/Users/yiyaoguo/Desktop/final-project-frontend/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/inherits\";import _createSuper from\"/Users/yiyaoguo/Desktop/final-project-frontend/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createSuper\";import React from\"react\";import\"./style.css\";import\"bootstrap/dist/css/bootstrap.css\";import{Link}from\"react-router-dom\";import Accordion from\"./Accordion\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var Logs=/*#__PURE__*/function(_React$Component){_inherits(Logs,_React$Component);var _super=_createSuper(Logs);function Logs(props){var _this;_classCallCheck(this,Logs);_this=_super.call(this,props);_this.state={data:[],continents:[]};return _this;}_createClass(Logs,[{key:\"componentDidMount\",value:function componentDidMount(){var _this2=this;document.title=\"All logs\";fetch(\"https://itp404-final-project-backend.herokuapp.com/api/logs\").then(function(response){return response.json();}).then(function(json){_this2.setState({data:json});});fetch(\"https://itp404-final-project-backend.herokuapp.com/api/continents\").then(function(response){return response.json();}).then(function(json){_this2.setState({continents:_toConsumableArray(json.map(function(each){return each.name;}))});});}},{key:\"render\",value:function render(){var _this3=this;return this.state.data.length!==0?/*#__PURE__*/_jsx(\"div\",{className:\"container-fluid\",children:/*#__PURE__*/_jsxs(\"table\",{className:\"table table-striped\",children:[/*#__PURE__*/_jsx(\"thead\",{children:/*#__PURE__*/_jsxs(\"tr\",{className:\"row\",children:[/*#__PURE__*/_jsx(\"th\",{className:\"col-3\",children:\"Continent\"}),/*#__PURE__*/_jsx(\"th\",{className:\"col-3\",children:\"Country\"}),/*#__PURE__*/_jsx(\"th\",{className:\"col-3\",children:\"Trip Year\"}),/*#__PURE__*/_jsx(\"th\",{className:\"col-3\",children:\"Log\"})]})}),/*#__PURE__*/_jsx(\"tbody\",{children:this.state.data.map(function(each){return/*#__PURE__*/_jsxs(\"tr\",{className:\"row\",children:[/*#__PURE__*/_jsx(\"td\",{className:\"col-3\",children:_this3.state.continents[each.continentId]}),/*#__PURE__*/_jsx(\"td\",{className:\"col-3\",children:each.country}),/*#__PURE__*/_jsx(\"td\",{className:\"col-3\",children:each.year}),/*#__PURE__*/_jsxs(\"td\",{className:\"col-3\",children:[\" \",/*#__PURE__*/_jsx(Link,{to:\"/logs/\".concat(each.id),children:each.title}),/*#__PURE__*/_jsx(Accordion,{tabs:each})]})]},each.id);})})]})}):/*#__PURE__*/_jsx(\"div\",{children:\"No records found.\"});}}]);return Logs;}(React.Component);export{Logs as default};","map":{"version":3,"sources":["/Users/yiyaoguo/Desktop/final-project-frontend/src/Logs.js"],"names":["React","Link","Accordion","Logs","props","state","data","continents","document","title","fetch","then","response","json","setState","map","each","name","length","continentId","country","year","id","Component"],"mappings":"izBAAA,MAAOA,CAAAA,KAAP,KAAkB,OAAlB,CACA,MAAO,aAAP,CACA,MAAO,kCAAP,CACA,OAASC,IAAT,KAAqB,kBAArB,CACA,MAAOC,CAAAA,SAAP,KAAsB,aAAtB,C,2FACqBC,CAAAA,I,wGACnB,cAAYC,KAAZ,CAAmB,sCACjB,uBAAMA,KAAN,EACA,MAAKC,KAAL,CAAa,CACXC,IAAI,CAAE,EADK,CAEXC,UAAU,CAAE,EAFD,CAAb,CAFiB,aAMlB,C,kDAED,4BAAoB,iBAClBC,QAAQ,CAACC,KAAT,CAAiB,UAAjB,CACAC,KAAK,CAAC,6DAAD,CAAL,CACGC,IADH,CACQ,SAACC,QAAD,CAAc,CAClB,MAAOA,CAAAA,QAAQ,CAACC,IAAT,EAAP,CACD,CAHH,EAIGF,IAJH,CAIQ,SAACE,IAAD,CAAU,CACd,MAAI,CAACC,QAAL,CAAc,CACZR,IAAI,CAAEO,IADM,CAAd,EAGD,CARH,EASAH,KAAK,CAAC,mEAAD,CAAL,CACGC,IADH,CACQ,SAACC,QAAD,CAAc,CAClB,MAAOA,CAAAA,QAAQ,CAACC,IAAT,EAAP,CACD,CAHH,EAIGF,IAJH,CAIQ,SAACE,IAAD,CAAU,CACd,MAAI,CAACC,QAAL,CAAc,CACZP,UAAU,oBAAMM,IAAI,CAACE,GAAL,CAAS,SAACC,IAAD,QAAUA,CAAAA,IAAI,CAACC,IAAf,EAAT,CAAN,CADE,CAAd,EAGD,CARH,EASD,C,sBACD,iBAAS,iBACP,MAAO,MAAKZ,KAAL,CAAWC,IAAX,CAAgBY,MAAhB,GAA2B,CAA3B,cACL,YAAK,SAAS,CAAC,iBAAf,uBACE,eAAO,SAAS,CAAC,qBAAjB,wBACE,oCACE,YAAI,SAAS,CAAC,KAAd,wBACE,WAAI,SAAS,CAAC,OAAd,uBADF,cAEE,WAAI,SAAS,CAAC,OAAd,qBAFF,cAGE,WAAI,SAAS,CAAC,OAAd,uBAHF,cAIE,WAAI,SAAS,CAAC,OAAd,iBAJF,GADF,EADF,cASE,uBACG,KAAKb,KAAL,CAAWC,IAAX,CAAgBS,GAAhB,CAAoB,SAACC,IAAD,qBACnB,YAAkB,SAAS,CAAC,KAA5B,wBACE,WAAI,SAAS,CAAC,OAAd,UACG,MAAI,CAACX,KAAL,CAAWE,UAAX,CAAsBS,IAAI,CAACG,WAA3B,CADH,EADF,cAIE,WAAI,SAAS,CAAC,OAAd,UAAuBH,IAAI,CAACI,OAA5B,EAJF,cAKE,WAAI,SAAS,CAAC,OAAd,UAAuBJ,IAAI,CAACK,IAA5B,EALF,cAME,YAAI,SAAS,CAAC,OAAd,WACG,GADH,cAEE,KAAC,IAAD,EAAM,EAAE,iBAAWL,IAAI,CAACM,EAAhB,CAAR,UAA+BN,IAAI,CAACP,KAApC,EAFF,cAGE,KAAC,SAAD,EAAW,IAAI,CAAEO,IAAjB,EAHF,GANF,GAASA,IAAI,CAACM,EAAd,CADmB,EAApB,CADH,EATF,GADF,EADK,cA8BL,0CA9BF,CAgCD,C,kBA/D+BtB,KAAK,CAACuB,S,SAAnBpB,I","sourcesContent":["import React from \"react\";\nimport \"./style.css\";\nimport \"bootstrap/dist/css/bootstrap.css\";\nimport { Link } from \"react-router-dom\";\nimport Accordion from \"./Accordion\";\nexport default class Logs extends React.Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      data: [],\n      continents: [],\n    };\n  }\n\n  componentDidMount() {\n    document.title = \"All logs\";\n    fetch(\"https://itp404-final-project-backend.herokuapp.com/api/logs\")\n      .then((response) => {\n        return response.json();\n      })\n      .then((json) => {\n        this.setState({\n          data: json,\n        });\n      });\n    fetch(\"https://itp404-final-project-backend.herokuapp.com/api/continents\")\n      .then((response) => {\n        return response.json();\n      })\n      .then((json) => {\n        this.setState({\n          continents: [...json.map((each) => each.name)],\n        });\n      });\n  }\n  render() {\n    return this.state.data.length !== 0 ? (\n      <div className=\"container-fluid\">\n        <table className=\"table table-striped\">\n          <thead>\n            <tr className=\"row\">\n              <th className=\"col-3\">Continent</th>\n              <th className=\"col-3\">Country</th>\n              <th className=\"col-3\">Trip Year</th>\n              <th className=\"col-3\">Log</th>\n            </tr>\n          </thead>\n          <tbody>\n            {this.state.data.map((each) => (\n              <tr key={each.id} className=\"row\">\n                <td className=\"col-3\">\n                  {this.state.continents[each.continentId]}\n                </td>\n                <td className=\"col-3\">{each.country}</td>\n                <td className=\"col-3\">{each.year}</td>\n                <td className=\"col-3\">\n                  {\" \"}\n                  <Link to={`/logs/${each.id}`}>{each.title}</Link>\n                  <Accordion tabs={each} />\n                </td>\n              </tr>\n            ))}\n          </tbody>\n        </table>\n      </div>\n    ) : (\n      <div>No records found.</div>\n    );\n  }\n}\n"]},"metadata":{},"sourceType":"module"}